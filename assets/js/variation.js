let noteInfo = [
  {
    "measureCount": 4,
    "startX": 118,
    "startY": 469,
    "noteList": [
      {
        "y": 408,
        "x": 374,
        "measure": 1,
        "staff": 2,
        "pitch": 40,
        "type": 0.25
      },
      {
        "y": 428,
        "x": 476,
        "measure": 1,
        "staff": 2,
        "pitch": 39,
        "type": 0.25
      },
      {
        "y": 408,
        "x": 578,
        "measure": 1,
        "staff": 2,
        "pitch": 40,
        "type": 0.25
      },
      {
        "y": 428,
        "x": 680,
        "measure": 1,
        "staff": 2,
        "pitch": 39,
        "type": 0.25
      },
      {
        "y": 408,
        "x": 841,
        "measure": 2,
        "staff": 2,
        "pitch": 40,
        "type": 0.25
      },
      {
        "y": 388,
        "x": 950,
        "measure": 2,
        "staff": 2,
        "pitch": 42,
        "type": 0.25
      },
      {
        "y": 428,
        "x": 1060,
        "measure": 2,
        "staff": 2,
        "pitch": 39,
        "type": 0.25
      },
      {
        "type": 0.25,
        "measure": 2,
        "pitch": 0
      },
      {
        "y": 408,
        "x": 1340,
        "measure": 3,
        "staff": 2,
        "pitch": 40,
        "type": 0.25
      },
      {
        "y": 366,
        "x": 1473,
        "measure": 3,
        "staff": 2,
        "pitch": 44,
        "type": 0.25
      },
      {
        "y": 389,
        "x": 1606,
        "measure": 3,
        "staff": 2,
        "pitch": 42,
        "type": 0.25
      },
      {
        "y": 408,
        "x": 1739,
        "measure": 3,
        "staff": 2,
        "pitch": 40,
        "type": 0.25
      },
      {
        "y": 429,
        "x": 1931,
        "measure": 4,
        "staff": 2,
        "pitch": 39,
        "type": 0.25
      },
      {
        "y": 449,
        "x": 2031,
        "measure": 4,
        "staff": 2,
        "pitch": 37,
        "type": 0.25
      },
      {
        "y": 470,
        "x": 2130,
        "measure": 4,
        "staff": 2,
        "pitch": 35,
        "type": 0.25
      },
      {
        "type": 0.25,
        "measure": 4,
        "pitch": 0
      }
    ],
    "beatType": 4,
    "beats": 16,
    "maxPitch": 44,
    "minPitch": 35,
    "lastNotePitch": 0,
    "totalDuration": 9.6
  },
  {
    "measureCount": 4,
    "startX": 118,
    "startY": 948,
    "noteList": [
      {
        "y": 868,
        "x": 275,
        "measure": 5,
        "staff": 2,
        "pitch": 42,
        "type": 0.25
      },
      {
        "y": 887,
        "x": 400,
        "measure": 5,
        "staff": 2,
        "pitch": 40,
        "type": 0.25
      },
      {
        "y": 908,
        "x": 523,
        "measure": 5,
        "staff": 2,
        "pitch": 39,
        "type": 0.25
      },
      {
        "y": 866,
        "x": 647,
        "measure": 5,
        "staff": 2,
        "pitch": 42,
        "type": 0.25
      },
      {
        "y": 887,
        "x": 830,
        "measure": 6,
        "staff": 2,
        "pitch": 40,
        "type": 0.25
      },
      {
        "y": 908,
        "x": 940,
        "measure": 6,
        "staff": 2,
        "pitch": 39,
        "type": 0.25
      },
      {
        "y": 928,
        "x": 1051,
        "measure": 6,
        "staff": 2,
        "pitch": 37,
        "type": 0.25
      },
      {
        "type": 0.25,
        "measure": 6,
        "pitch": 0
      },
      {
        "y": 868,
        "x": 1332,
        "measure": 7,
        "staff": 2,
        "pitch": 42,
        "type": 0.25
      },
      {
        "y": 887,
        "x": 1456,
        "measure": 7,
        "staff": 2,
        "pitch": 40,
        "type": 0.25
      },
      {
        "y": 908,
        "x": 1579,
        "measure": 7,
        "staff": 2,
        "pitch": 39,
        "type": 0.25
      },
      {
        "y": 928,
        "x": 1703,
        "measure": 7,
        "staff": 2,
        "pitch": 37,
        "type": 0.25
      },
      {
        "y": 908,
        "x": 1886,
        "measure": 8,
        "staff": 2,
        "pitch": 39,
        "type": 0.25
      },
      {
        "y": 928,
        "x": 1997,
        "measure": 8,
        "staff": 2,
        "pitch": 37,
        "type": 0.25
      },
      {
        "y": 949,
        "x": 2107,
        "measure": 8,
        "staff": 2,
        "pitch": 35,
        "type": 0.25
      },
      {
        "type": 0.25,
        "measure": 8,
        "pitch": 0
      }
    ],
    "beatType": 4,
    "beats": 16,
    "maxPitch": 42,
    "minPitch": 35,
    "lastNotePitch": 0,
    "totalDuration": 9.6
  },
  {
    "measureCount": 4,
    "startX": 118,
    "startY": 1427,
    "noteList": [
      {
        "y": 1366,
        "x": 276,
        "measure": 9,
        "staff": 2,
        "pitch": 40,
        "type": 0.25
      },
      {
        "y": 1388,
        "x": 389,
        "measure": 9,
        "staff": 2,
        "pitch": 39,
        "type": 0.25
      },
      {
        "y": 1366,
        "x": 503,
        "measure": 9,
        "staff": 2,
        "pitch": 40,
        "type": 0.25
      },
      {
        "y": 1388,
        "x": 616,
        "measure": 9,
        "staff": 2,
        "pitch": 39,
        "type": 0.25
      },
      {
        "y": 1366,
        "x": 790,
        "measure": 10,
        "staff": 2,
        "pitch": 40,
        "type": 0.25
      },
      {
        "y": 1345,
        "x": 910,
        "measure": 10,
        "staff": 2,
        "pitch": 42,
        "type": 0.25
      },
      {
        "y": 1387,
        "x": 1032,
        "measure": 10,
        "staff": 2,
        "pitch": 39,
        "type": 0.25
      },
      {
        "type": 0.25,
        "measure": 10,
        "pitch": 0
      },
      {
        "y": 1366,
        "x": 1334,
        "measure": 11,
        "staff": 2,
        "pitch": 40,
        "type": 0.25
      },
      {
        "y": 1429,
        "x": 1447,
        "measure": 11,
        "staff": 2,
        "pitch": 35,
        "type": 0.25
      },
      {
        "y": 1408,
        "x": 1561,
        "measure": 11,
        "staff": 2,
        "pitch": 37,
        "type": 0.25
      },
      {
        "y": 1387,
        "x": 1675,
        "measure": 11,
        "staff": 2,
        "pitch": 39,
        "type": 0.25
      },
      {
        "y": 1366,
        "x": 1848,
        "measure": 12,
        "staff": 2,
        "pitch": 40,
        "type": 0.25
      },
      {
        "y": 1388,
        "x": 1958,
        "measure": 12,
        "staff": 2,
        "pitch": 39,
        "type": 0.25
      },
      {
        "y": 1366,
        "x": 2070,
        "measure": 12,
        "staff": 2,
        "pitch": 40,
        "type": 0.25
      },
      {
        "type": 0.25,
        "measure": 12,
        "pitch": 0
      }
    ],
    "beatType": 4,
    "beats": 16,
    "maxPitch": 42,
    "minPitch": 35,
    "lastNotePitch": 0,
    "totalDuration": 9.6
  }
]

let pictureInfo = {
  "marginX": 118,
  "pictureWidth": 2481,
  "pictureHeight": 3507,
  "pictureUrl": 'https://sight-singing.oss-cn-qingdao.aliyuncs.com/png/1e6f04805c035711b27c9e2416395164.png'
}

let result = [
  0,
  0,
  0,
  30.453834926382278,
  40.834679965348975,
  40.49185013898772,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  41.17085247938414,
  40.14209399107353,
  0,
  0,
  0,
  64.49185013898773,
  40.14209399107353,
  40.14209399107353,
  39.7851258703449,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  27.04831933437518,
  15.7851258703449,
  21.815129956695102,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.834679965348975,
  41.17085247938414,
  14.27875528533859,
  0,
  58.684031903031695,
  0,
  40.14209399107353,
  39.7851258703449,
  40.14209399107353,
  40.14209399107353,
  39.7851258703449,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  0,
  24.628713000339374,
  41.50062131644942,
  41.17085247938414,
  40.834679965348975,
  40.834679965348975,
  40.49185013898772,
  40.834679965348975,
  40.834679965348975,
  40.49185013898772,
  40.834679965348975,
  41.17085247938414,
  41.82422588765265,
  42.76025603166793,
  43.06134780322189,
  42.76025603166793,
  42.76025603166793,
  42.76025603166793,
  42.45383492638228,
  42.45383492638228,
  42.76025603166793,
  42.76025603166793,
  42.141892423986945,
  0,
  0,
  0,
  40.49185013898772,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.834679965348975,
  20.765575861691026,
  15.7851258703449,
  22.80467587899878,
  22.80467587899878,
  21.815129956695102,
  34.80467587899877,
  34.80467587899877,
  37.8807529181162,
  21.815129956695102,
  35.279016249238424,
  15.7851258703449,
  0,
  15.7851258703449,
  22.80467587899878,
  40.834679965348975,
  40.49185013898772,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.49185013898772,
  40.49185013898772,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  42.141892423986945,
  32.215931586333525,
  46.316972065030626,
  45.8151299566951,
  45.29830529399247,
  44.215931586333525,
  44.215931586333525,
  44.49293494369003,
  44.76557586169103,
  44.76557586169103,
  44.49293494369003,
  44.215931586333525,
  43.35729245403312,
  42.76025603166793,
  43.06134780322189,
  42.76025603166793,
  42.76025603166793,
  42.76025603166793,
  42.76025603166793,
  42.76025603166793,
  42.76025603166793,
  42.76025603166793,
  42.76025603166793,
  42.45383492638228,
  23.74070602301405,
  18.45383492638227,
  41.17085247938414,
  40.49185013898772,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  41.17085247938414,
  40.834679965348975,
  29.17085247938413,
  0,
  64.49185013898773,
  40.14209399107353,
  39.7851258703449,
  39.7851258703449,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  39.7851258703449,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  39.7851258703449,
  38.27875528533859,
  37.05619991710803,
  37.47338493503615,
  37.47338493503615,
  37.47338493503615,
  37.8807529181162,
  37.47338493503615,
  37.8807529181162,
  37.8807529181162,
  37.8807529181162,
  37.47338493503615,
  17.17085247938413,
  27.7851258703449,
  22.80467587899878,
  18.45383492638227,
  35.279016249238424,
  35.279016249238424,
  35.279016249238424,
  35.740706023014056,
  35.279016249238424,
  35.279016249238424,
  35.740706023014056,
  35.279016249238424,
  35.279016249238424,
  34.316972065030626,
  34.316972065030626,
  36.190402488038,
  20.765575861691026,
  15.7851258703449,
  22.80467587899878,
  0,
  15.7851258703449,
  15.7851258703449,
  34.80467587899877,
  14.27875528533859,
  22.80467587899878,
  27.7851258703449,
  21.815129956695102,
  17.17085247938413,
  15.7851258703449,
  19.648263008993254,
  21.815129956695102,
  23.74070602301405,
  14.27875528533859,
  34.80467587899877,
  22.80467587899878,
  42.141892423986945,
  42.141892423986945,
  41.82422588765265,
  41.50062131644942,
  42.141892423986945,
  42.45383492638228,
  42.76025603166793,
  42.141892423986945,
  41.82422588765265,
  42.45383492638228,
  14.27875528533859,
  27.04831933437518,
  40.834679965348975,
  40.49185013898772,
  40.834679965348975,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  41.17085247938414,
  39.7851258703449,
  12.628713000339374,
  0,
  0,
  22.80467587899878,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.49185013898772,
  40.834679965348975,
  22.80467587899878,
  43.06134780322189,
  43.06134780322189,
  42.76025603166793,
  42.76025603166793,
  42.76025603166793,
  42.45383492638228,
  42.45383492638228,
  42.76025603166793,
  42.76025603166793,
  42.45383492638228,
  42.45383492638228,
  42.45383492638228,
  41.82422588765265,
  20.765575861691026,
  21.815129956695102,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  29.17085247938413,
  29.17085247938413,
  22.80467587899878,
  0,
  0,
  57.94196085721735,
  40.49185013898772,
  40.14209399107353,
  40.14209399107353,
  39.7851258703449,
  39.7851258703449,
  40.14209399107353,
  39.7851258703449,
  40.14209399107353,
  40.14209399107353,
  39.42064208182268,
  37.8807529181162,
  37.47338493503615,
  37.47338493503615,
  37.8807529181162,
  37.47338493503615,
  37.8807529181162,
  37.47338493503615,
  37.8807529181162,
  37.8807529181162,
  37.8807529181162,
  37.8807529181162,
  38.27875528533859,
  39.04831933437518,
  26.27875528533859,
  24.628713000339374,
  15.7851258703449,
  21.815129956695102,
  0,
  0,
  21.815129956695102,
  26.27875528533859,
  17.17085247938413,
  21.815129956695102,
  20.765575861691026,
  27.04831933437518,
  15.7851258703449,
  23.74070602301405,
  34.316972065030626,
  12.628713000339374,
  24.628713000339374,
  0,
  12.628713000339374,
  20.765575861691026,
  34.80467587899877,
  14.27875528533859,
  23.74070602301405,
  19.648263008993254,
  17.17085247938413,
  15.7851258703449,
  15.7851258703449,
  0,
  33.29830529399247,
  23.74070602301405,
  0,
  14.27875528533859,
  20.765575861691026,
  22.80467587899878,
  21.815129956695102,
  0,
  31.061347803221892,
  21.815129956695102,
  34.316972065030626,
  0,
  14.27875528533859,
  12.628713000339374,
  12.628713000339374,
  15.7851258703449,
  29.824225887652652,
  22.80467587899878,
  21.815129956695102,
  27.7851258703449,
  22.80467587899878,
  17.17085247938413,
  14.27875528533859,
  21.815129956695102,
  22.80467587899878,
  19.648263008993254,
  42.141892423986945,
  42.141892423986945,
  42.141892423986945,
  41.82422588765265,
  41.82422588765265,
  42.141892423986945,
  42.76025603166793,
  42.45383492638228,
  42.141892423986945,
  42.45383492638228,
  22.80467587899878,
  23.74070602301405,
  14.27875528533859,
  41.17085247938414,
  40.834679965348975,
  40.49185013898772,
  40.49185013898772,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.49185013898772,
  40.834679965348975,
  41.17085247938414,
  58.92448494187025,
  0,
  34.316972065030626,
  20.765575861691026,
  40.14209399107353,
  39.7851258703449,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  39.42064208182268,
  37.8807529181162,
  37.47338493503615,
  37.47338493503615,
  37.8807529181162,
  37.47338493503615,
  37.47338493503615,
  37.47338493503615,
  37.8807529181162,
  37.8807529181162,
  37.8807529181162,
  37.47338493503615,
  37.8807529181162,
  38.27875528533859,
  0,
  0,
  0,
  22.80467587899878,
  39.7851258703449,
  39.7851258703449,
  39.7851258703449,
  39.7851258703449,
  39.7851258703449,
  39.7851258703449,
  39.7851258703449,
  39.7851258703449,
  39.7851258703449,
  39.7851258703449,
  39.42064208182268,
  38.27875528533859,
  37.8807529181162,
  37.47338493503615,
  37.47338493503615,
  37.47338493503615,
  37.47338493503615,
  37.05619991710803,
  37.47338493503615,
  37.05619991710803,
  37.47338493503615,
  37.47338493503615,
  37.47338493503615,
  21.815129956695102,
  18.45383492638227,
  12.628713000339374,
  18.45383492638227,
  35.740706023014056,
  36.190402488038,
  35.740706023014056,
  35.740706023014056,
  35.279016249238424,
  35.740706023014056,
  35.740706023014056,
  35.740706023014056,
  36.190402488038,
  36.190402488038,
  36.190402488038,
  0,
  34.80467587899877,
  21.815129956695102,
  22.80467587899878,
  15.7851258703449,
  15.7851258703449,
  27.7851258703449,
  18.45383492638227,
  20.765575861691026,
  15.7851258703449,
  14.27875528533859,
  15.7851258703449,
  21.815129956695102,
  34.316972065030626,
  20.765575861691026,
  15.7851258703449,
  15.7851258703449,
  15.7851258703449,
  22.80467587899878,
  22.80467587899878,
  15.7851258703449,
  20.765575861691026,
  14.27875528533859,
  23.74070602301405,
  15.7851258703449,
  40.49185013898772,
  40.49185013898772,
  40.834679965348975,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  0,
  0,
  0,
  17.17085247938413,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  21.815129956695102,
  22.80467587899878,
  29.17085247938413,
  40.834679965348975,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.834679965348975,
  27.7851258703449,
  20.765575861691026,
  20.765575861691026,
  34.80467587899877,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  27.04831933437518,
  14.27875528533859,
  22.80467587899878,
  41.17085247938414,
  40.834679965348975,
  40.834679965348975,
  40.49185013898772,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  41.82422588765265,
  42.76025603166793,
  43.06134780322189,
  42.76025603166793,
  42.76025603166793,
  42.76025603166793,
  42.76025603166793,
  42.76025603166793,
  42.76025603166793,
  42.76025603166793,
  42.45383492638228,
  42.45383492638228,
  21.815129956695102,
  60.628713000339374,
  0,
  0,
  14.27875528533859,
  40.49185013898772,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.49185013898772,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  20.765575861691026,
  27.7851258703449,
  15.7851258703449,
  15.7851258703449,
  0,
  29.824225887652652,
  22.80467587899878,
  21.815129956695102,
  15.7851258703449,
  15.7851258703449,
  15.7851258703449,
  15.7851258703449,
  22.80467587899878,
  14.27875528533859,
  22.80467587899878,
  15.7851258703449,
  29.824225887652652,
  29.17085247938413,
  41.17085247938414,
  40.834679965348975,
  40.834679965348975,
  40.834679965348975,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.834679965348975,
  14.27875528533859,
  33.8151299566951,
  34.80467587899877,
  14.27875528533859,
  19.648263008993254,
  36.190402488038,
  36.628713000339374,
  36.628713000339374,
  36.628713000339374,
  36.628713000339374,
  36.628713000339374,
  36.628713000339374,
  36.190402488038,
  36.190402488038,
  36.628713000339374,
  37.8807529181162,
  38.27875528533859,
  38.66781301764712,
  38.27875528533859,
  38.27875528533859,
  38.27875528533859,
  38.27875528533859,
  38.27875528533859,
  38.27875528533859,
  38.66781301764712,
  38.66781301764712,
  0,
  0,
  57.94196085721735,
  15.7851258703449,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.14209399107353,
  40.49185013898772,
  39.42064208182268,
  29.17085247938413,
  33.29830529399247,
  41.50062131644942,
  40.834679965348975,
  40.834679965348975,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.834679965348975,
  28.491850138987722,
  34.80467587899877,
  35.279016249238424,
  34.80467587899877,
  0,
  28.491850138987722,
  40.14209399107353,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.14209399107353,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  39.7851258703449,
  30.453834926382278,
  17.17085247938413,
  41.50062131644942,
  41.17085247938414,
  40.49185013898772,
  28.491850138987722,
  40.834679965348975,
  33.8151299566951,
  40.834679965348975,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  40.49185013898772,
  28.491850138987722,
  28.491850138987722,
  23.74070602301405,
  14.27875528533859,
  17.17085247938413,
  21.815129956695102,
  0,
  15.7851258703449,
  0,
  18.45383492638227,
  22.80467587899878,
  32.215931586333525,
  14.27875528533859,
  15.7851258703449,
  29.17085247938413,
  0,
  19.648263008993254,
  0,
  23.74070602301405,
  12.628713000339374,
  18.45383492638227,
  21.815129956695102,
  0,
  28.491850138987722,
  33.29830529399247
]

let state = {}
let mp3Url = 'https://sight-singing.oss-cn-qingdao.aliyuncs.com/mp3/105da7b5d1cdb88e02a9b7e7242fc764.mp3'

let mp3Duration = 31.824792

// 下面开始处理数据
let windowWidth =  window.innerWidth
let scaleRatio = windowWidth / (+pictureInfo.pictureWidth)
let pictureInfoCopy = Object.assign({}, pictureInfo)
let noteInfoCopy = [...noteInfo]
// 下面开始处理pictureInfo
pictureInfoCopy.scaleRatio = scaleRatio
pictureInfoCopy.pictureWidth = windowWidth
pictureInfoCopy.pictureHeight = (+pictureInfo.pictureHeight) * scaleRatio
pictureInfoCopy.marginX = (+pictureInfo.marginX) * scaleRatio
// 下面开始处理noteInfo
noteInfoCopy.forEach((lineValue, lineIndex) => {
  //这里要考虑到一行第一个音符就是休止符的情况
  lineValue.noteList[0].x = (+lineValue.noteList[0].x) || ((+lineValue.startX) + 133)
  //每一行都有自己的lineWidth，减去一个margin和一个第一个音符的偏移量x
  let lineWidth = ((+pictureInfo.pictureWidth) - (+pictureInfo.marginX) - lineValue.noteList[0].x) * scaleRatio
  lineValue.noteList[0].x = lineValue.noteList[0].x * scaleRatio
  lineValue.lineWidth = lineWidth
  lineValue.startX = (+lineValue.startX) * scaleRatio
  lineValue.startY = (+lineValue.startY) * scaleRatio
  let wholeNoteNumber = (+lineValue.beats) / (+lineValue.beatType)
  let wholeNotePix = lineWidth / wholeNoteNumber
  lineValue.noteList.map((noteItem, noteIndex) => {
    if (noteIndex === 0) {
      noteItem.end = noteItem.x + (+noteItem.type) * wholeNotePix
    } else if (noteIndex > 0) {
      noteItem.x = lineValue.noteList[noteIndex - 1].end
      noteItem.end = noteItem.x + (+noteItem.type) * wholeNotePix
    }
    return noteItem
  })
  // 按照120ms画一个点来计算的
  lineValue.moveStep = lineWidth / ((+lineValue.totalDuration) * 1000 / 200)
})
// 下面开始处理结果
let recordingAnalysisResultCopy = [...result]
let recordingEachlineMoveStep = []
let recordingAnalysisResult = []
let recordingUrl = mp3Url
let recordingDuration = mp3Duration
let noteTotalDuration = 0
noteInfoCopy.forEach((element) => {
  noteTotalDuration += parseFloat(element.totalDuration)
})
noteInfoCopy.forEach((noteItem, noteIndex) => {
  let eachLineResult = []
  let eachLineRatio = parseFloat(noteItem.totalDuration) / noteTotalDuration
  let hasCountedNum = 0
  recordingAnalysisResult.forEach((element) => {
    hasCountedNum += element.length
  })
  let eachLineMoveStep = noteItem.lineWidth / ((eachLineRatio * recordingDuration) * 1000 / 60)
  eachLineResult = recordingAnalysisResultCopy.slice(hasCountedNum, Math.floor(eachLineRatio * recordingAnalysisResultCopy.length + hasCountedNum) + 1)
  recordingAnalysisResult.push(eachLineResult)
  recordingEachlineMoveStep.push(eachLineMoveStep)
})


state.pictureInfo = pictureInfoCopy
state.noteInfo = noteInfoCopy
state.recordingUrl = mp3Url
state.recordingAnalysisResult = recordingAnalysisResult
state.recordingUrl = recordingUrl
state.recordingEachlineMoveStep = recordingEachlineMoveStep